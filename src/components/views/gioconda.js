
import {lerp} from '../../utils/Utils';
import countries from '../../data/countries.geo.js';

const translation = [120.000, 178.875];

const parseDPath = d => {
    return d.split(/M/)
        .filter(val => val)
        .map(val => val.trim().split(' L ')
            .filter(val => val !== 'z' && val !== 'Z')
            .map(coord => coord.split(',').map(value => parseFloat(value)))
            .map(coord => [ coord[0] - translation[0] / 2.0, -coord[1] + translation[1] / 2.0, 0])
        );
};

const getXYZ = coord => {
    const cosLat = Math.cos(coord[1] * Math.PI / 180.0);
    const sinLat = Math.sin(coord[1] * Math.PI / 180.0);
    const cosLon = Math.cos(coord[0] * Math.PI / 180.0);
    const sinLon = Math.sin(coord[0] * Math.PI / 180.0);
    const radius = 80;
    const x = radius * cosLat * cosLon;
    const y = radius * cosLat * sinLon;
    const z = radius * sinLat;
    return [x, z, y];
};

let structure;
let countriesLatLng;
let countriesXYZ;
let world;
let marker;

const louvrePosition = [2.338629, 48.860294, 0];
const louvrePositionXYZ = getXYZ([...louvrePosition]);

const canvas = [
    {
        color: '#cfaa55',
        d: 'M 0,89.437428 L 0,-1.53e-4 L 120,-1.53e-4 L 120,178.875 L 0,178.875 Z'
    },
    {
        color: '#918e55',
        d: 'M 0,89.437398 L 0,2.378e-4 L 119.99999,2.378e-4 L 119.99999,178.875 L 4.32e-4,178.875 L 4.32e-4,89.437398 Z M 37.608757,152.34377 L 37.170492,152.21294 Z M 60.027203,144.37512 L 60.096289,142.66092 L 54.464043,140.21441 L 50.053326,139.76837 L 46.874069,137.67377 L 44.802781,135.56232 L 40.031089,132.63523 L 32.673417,136.31234 L 36.151903,138.90134 L 38.813446,137.86937 L 41.442173,139.82364 L 43.889117,140.61424 L 46.360241,142.21877 L 49.882769,142.01712 L 52.587059,142.72353 L 54.60826,141.73171 L 58.885555,144.09359 Z M 63.117511,96.8633 L 68.270904,94.236728 L 71.156113,89.753468 L 71.082709,84.688168 L 71.57797,80.810708 L 71.254129,75.400828 L 67.106371,73.262618 L 63.486258,73.875318 L 59.629526,73.637838 L 57.02757,72.750078 L 53.081025,74.471618 L 48.800708,77.250178 L 46.361105,80.241608 L 42.821736,86.703748 L 40.942162,91.196938 L 49.612038,95.08433 Z M 115.53833,91.044518 L 114.81594,90.375248 Z M 79.078132,89.816948 L 83.925386,87.651958 Z M 53.062458,62.578448 L 51.235562,58.020058 L 48.618493,57.044648 Z M 52.725663,55.169388 L 52.282217,51.468968 L 53.683801,47.692118 L 55.855696,37.781278 L 62.578208,37.600358 L 64.303633,35.625358 L 61.587254,30.984068 L 58.966731,26.110478 L 52.033075,24.478748 L 47.675036,27.236578 L 45.012198,34.687948 L 45.141734,37.968678 L 50.180272,39.010578 L 43.634362,44.977028 L 48.575315,53.922388 Z M 58.390293,53.314428 L 62.063516,51.188308 L 63.773398,48.485738 L 66.50964,42.431638 L 58.941255,43.811198 L 57.903236,43.305148 L 55.911397,47.308688 Z M 107.43927,40.312848 L 107.9803,37.008378 L 104.62661,38.056758 L 104.90727,39.635808 Z M 35.328483,38.830088 L 35.065092,37.173318 L 33.766705,35.298068 L 32.954511,36.501028 L 33.787431,38.556338 Z'
    },
    {
        color: '#7c8254',
        d: 'M 0.01122,152.4003 L 0.10188,36.592678 L 1.40906,33.081171 L 3.9116,35.572838 L 6.19441,35.48788 L 10.65384,34.638862 L 13.34849,36.35287 L 17.59595,37.972768 L 19.76998,38.322659 L 23.26413,37.611223 L 26.4807,38.701559 L 28.54076,43.585558 L 34.16706,42.78515 L 36.60744,43.18162 L 36.4952,41.16197 L 39.6522,32.540212 L 41.67167,27.824272 L 41.81413,26.494172 L 47.6252,20.612435 L 55.12377,16.885944 L 56.34418,15.457503 L 58.64296,16.127194 L 56.34245,14.046373 L 53.58779,16.609658 L 51.52903,14.564495 L 47.1158,18.294958 L 46.68842,17.525545 L 45.6109,14.518044 L 42.86661,13.065256 L 42.2264,13.403965 L 39.98331,13.593609 L 37.01324,14.70743 L 36.68946,13.979158 L 35.45956,17.596948 L 34.39327,17.25362 L 34.31125,15.449775 L 32.59784,13.021266 L 31.00963,15.597934 L 29.47668,17.781887 L 26.52171,17.668955 L 24.42971,15.726752 L 22.74135,17.693087 L 21.98415,17.34134 L 23.35176,14.636416 L 20.20513,15.011819 L 19.38836,16.546285 L 17.74964,16.014996 L 15.79966,15.540129 L 14.4899,14.544853 L 13.87991,16.342006 L 13.87991,15.151905 L 12.82268,13.685172 L 10.42375,15.366199 L 8.51349,16.34697 L 5.46744,18.148052 L 5.98418,19.808702 L 8.44701,19.773303 L 9.87333,19.44012 L 11.36398,19.476814 L 12.71778,19.62739 L 11.20296,20.685176 L 9.59748,21.151322 L 8.65897,22.368231 L 7.85256,22.492949 L 6.30709,21.653687 L 5.36254,22.626774 L 3.22564,20.681852 L 1.33178,23.47031 L 3.16088,23.755445 L 4.756,22.5751 L 6.10074,23.001703 L 3.8257,25.212594 L 3.68755,26.848551 L 2.91956,26.844623 L 2.17618,27.74212 L 0.75979,27.875687 L 0.51804,29.745926 L 0.23312,27.479735 L 0.16404,24.314104 L 0.11656,19.256174 L 2.32987,18.620328 L 4.43309,17.255346 L 3.03785,16.445354 L 0.88066,17.190462 L 0.12001,13.675589 L 0.12001,8.239276 L 0.21067,0.361288 L 21.64786,0.039027 L 120,0.039976 L 119.87912,25.537359 L 119.96115,27.444206 L 119.96115,40.865395 L 119.90071,89.498305 L 119.85754,100.77232 L 119.92661,178.82751 L 0,178.875 L 0,152.40021 Z M 35.34516,158.76951 L 39.95395,154.87971 L 40.87519,150.90624 L 38.11018,147.47507 L 35.43884,147.94372 L 34.47097,151.6561 L 35.72462,153.96442 L 35.21392,158.33449 Z M 55.59087,153.84894 L 51.7479,148.98027 L 50.6229,146.49115 L 54.24354,147.81167 L 57.7882,149.68419 L 57.37377,147.4907 L 54.72143,142.97628 L 60.27823,145.20323 L 60.61063,142.32018 L 53.8589,138.32367 L 47.81342,134.72806 L 41.95184,132.80291 L 32.40315,137.20553 L 34.39025,138.99098 L 37.78209,140.37211 L 40.45127,143.49526 L 42.93913,144.79247 L 44.97113,146.85032 L 45.84488,146.39186 L 49.59417,146.86604 L 49.08347,149.57493 L 53.28345,152.95848 Z M 61.64023,97.865233 L 69.03045,93.421003 L 70.99812,90.72959 L 71.34779,85.889149 L 72.00656,79.409512 L 71.52306,75.949205 L 70.02162,73.893466 L 66.28183,71.711067 L 63.9075,72.22988 L 60.88174,72.738462 L 57.15577,70.240492 L 55.7765,72.349417 L 53.79371,73.643945 L 49.24838,76.32163 L 45.91439,81.478764 L 42.13575,86.866769 L 42.60371,92.829406 Z M 21.87407,93.486664 L 21.51576,93.538942 Z M 115.62389,91.610769 L 116.70184,89.170388 L 119.0684,87.950198 L 113.86473,89.107145 L 113.01644,89.728961 L 114.78036,91.40036 Z M 77.28017,90.804231 L 81.93299,89.020244 L 81.42014,88.33022 Z M 26.2096,90.66721 Z M 113.05573,86.39704 L 118.21234,86.669786 L 115.51251,84.348251 L 108.36923,83.917806 L 110.5221,81.376193 L 104.77838,82.493726 L 104.06392,83.276305 L 105.17338,84.565265 L 107.60988,85.331829 Z M 17.96333,86.12792 L 17.62229,85.518667 Z M 16.01335,85.222739 Z M 102.5314,81.052722 L 104.98473,80.22326 L 102.45455,79.525552 L 101.03557,76.700616 L 105.13453,74.802835 L 103.41551,73.051226 L 102.43383,71.754323 L 103.22988,74.747966 L 100.03964,76.165356 L 96.98755,79.232474 L 100.76964,80.101954 L 101.79838,81.123391 L 101.99264,81.158358 Z M 110.98617,80.620033 L 110.63218,80.314694 Z M 106.60618,70.631782 L 105.79157,70.756024 Z M 53.1984,62.812807 L 55.60036,61.417045 L 54.72532,59.100993 L 52.26335,56.330926 L 53.69615,54.827542 L 52.24176,51.750495 L 54.65193,49.714096 L 55.98371,54.823873 L 57.02021,56.653705 L 60.75223,57.399936 L 62.43196,54.400551 L 64.20278,50.088981 L 66.46703,45.865909 L 67.38309,42.107904 L 60.86879,43.697583 L 56.69644,43.223278 L 55.49546,46.324198 L 54.31261,40.01737 L 59.33842,38.224361 L 64.96214,37.104454 L 65.52464,35.239697 L 62.33872,30.667814 L 60.65035,27.242993 L 53.02529,23.914957 L 45.54097,28.410602 L 45.04797,33.92449 L 44.34172,38.880626 L 51.02697,41.978006 L 44.37798,42.430381 L 44.33481,48.525419 L 47.52332,53.368494 L 46.80843,54.869201 L 48.9177,58.496575 L 52.10448,62.516965 Z M 55.05254,49.195801 L 56.44347,49.235085 Z M 104.63117,49.746516 L 107.33359,48.436101 L 111.53357,46.832564 L 112.07448,45.688914 L 113.32252,39.265527 L 112.71685,37.435436 L 114.42766,37.807429 L 114.47083,39.988446 L 116.72817,38.59031 L 119.56269,33.856325 L 119.32526,26.718179 L 119.39865,21.87627 L 118.73945,18.678909 L 118.1014,16.425496 L 117.33686,13.965214 L 115.49438,14.085484 L 112.87053,14.864567 L 111.53486,16.081736 L 112.15737,16.495819 L 113.95323,16.849897 L 112.82002,17.758791 L 111.72222,17.789873 L 109.25334,16.964814 L 109.74677,14.937136 L 107.01975,14.903031 L 102.39584,18.461507 L 103.84764,16.288389 L 101.62224,16.398601 L 97.6079,18.265905 L 94.48198,19.486311 L 92.9201,21.781513 L 91.93886,22.523469 L 90.3882,22.350316 L 87.13882,23.025015 L 85.75049,22.285907 L 84.79428,24.008765 L 82.77912,24.667059 L 83.13743,22.000685 L 83.8208,19.965624 L 82.24641,19.570837 L 80.96427,20.389032 L 80.60164,17.531459 L 79.56643,18.750053 L 81.45165,14.30483 L 79.07473,15.221926 L 76.8489,16.72505 L 75.90608,16.341358 L 74.65502,17.182131 L 73.92977,20.147368 L 75.91083,23.376847 L 78.99487,27.946356 L 81.60361,31.691799 L 83.80267,33.037656 L 86.28191,32.906334 L 88.57508,32.972902 L 89.92197,34.613608 L 92.05887,35.554879 L 93.77961,36.324205 L 94.78978,35.898941 L 95.93248,35.140364 L 97.92217,38.125805 L 99.49053,44.312276 L 100.9734,48.059834 L 101.6775,49.646967 Z M 84.73945,32.195718 L 85.80229,28.214785 Z M 83.57344,28.581727 L 84.96696,28.146836 Z M 90.78839,25.44407 L 90.55959,24.037991 L 89.75793,23.399036 Z M 79.64025,21.946464 L 79.82157,22.141677 Z M 75.34228,20.846414 L 76.85063,19.112203 L 75.34271,20.846414 Z M 99.83243,18.507439 Z M 116.89178,17.798939 L 117.24578,17.714628 Z M 107.07975,17.649097 L 107.33014,17.634851 L 107.13587,17.84254 Z M 117.08389,44.839766 L 117.56955,40.309067 L 115.0601,42.309074 L 116.89912,44.956929 L 116.95093,45.003811 L 117.08044,44.839766 Z M 58.2635,40.612464 L 57.57926,40.805216 Z M 8.94389,37.154099 L 8.55968,37.224422 L 8.92662,37.41929 L 8.96979,37.154142 Z M 3.61805,24.977276 L 4.35496,23.507867 Z M 5.63062,20.533219 Z M 72.92867,20.0116 L 72.77757,20.091291 Z M 90.15422,18.261804 L 89.79592,17.845346 Z M 5.44801,17.324202 L 5.27965,17.638304 Z M 67.62311,16.949403 L 66.84045,16.675232 Z M 65.38347,16.439742 Z M 30.11861,16.010635 L 28.60335,15.119052 L 30.31676,14.65895 Z M 102.92208,16.076253 L 102.84438,16.249105 Z M 63.17016,15.783606 L 62.14963,14.830679 Z M 27.37993,15.750366 L 26.9655,15.634282 Z M 92.18277,15.539784 L 91.80719,15.588264 Z M 25.31037,15.027231 Z M 2.52197,14.94551 L 2.18525,13.738444 Z M 11.77496,13.791326 Z M 117.64898,13.685604 L 117.44177,12.084269 Z M 56.1525,13.49406 L 56.5324,11.05437 Z M 115.95155,13.158287 L 115.84363,10.649093 L 114.84382,10.41956 Z M 60.03605,12.783401 L 62.38707,12.033587 L 59.98079,10.850221 L 59.19251,12.653504 Z M 21.23084,11.995037 L 21.23084,11.153358 Z M 15.69131,12.371649 Z M 1.63656,10.947223 L 1.63656,10.947266 Z M 3.70266,10.477062 Z M 2.21849,9.917238 L 2.13215,10.065483 Z M 3.87102,6.539989 Z M 19.59687,23.42265 Z M 40.94383,19.655536 Z M 18.4723,19.304006 L 18.80039,19.356543 L 18.65361,19.439084 Z M 10.25927,18.957094 L 10.71082,18.876756 Z M 44.15393,18.835356 L 44.86882,18.856077 Z M 30.98761,18.41225 L 31.14734,18.495913 Z M 41.33927,17.422283 L 42.00365,16.94841 Z M 43.27715,17.126614 L 43.80512,14.035408 Z M 21.3038,16.142778 L 22.68134,15.889588 Z'
    },
    {
        color: '#946831',
        d: 'M 0,152.38807 L 0,36.598605 L 0.37143,32.724685 L 1.14495,34.316586 L 3.32817,36.597232 L 6.38339,36.734358 L 8.51695,37.778384 L 8.43921,40.512346 L 9.60662,39.813939 L 11.02668,37.428075 L 11.95569,38.38586 L 11.77861,36.434805 L 11.39423,39.412178 L 11.5022,43.275383 L 12.56423,42.806977 L 15.50715,39.487289 L 17.29908,38.816229 L 20.80995,38.11375 L 24.61061,37.934082 L 24.86111,42.726558 L 27.05902,40.432178 L 28.63889,41.073311 L 30.94477,44.451279 L 34.97736,43.328951 L 37.60155,43.34018 L 39.1974,34.98032 L 43.69816,26.143667 L 58.94013,16.435711 L 68.73549,17.667632 L 76.14333,24.021845 L 82.325894,32.845663 L 84.839954,34.437183 L 88.140484,34.009954 L 87.997964,37.329391 L 88.136164,39.551611 L 89.228854,37.934034 L 90.139294,37.286988 L 92.178264,39.015523 L 94.451314,36.941119 L 96.913974,40.874377 L 100.03268,46.981305 L 92.181284,47.561697 L 86.597764,47.739594 L 88.356004,48.957259 L 91.919124,49.053096 L 99.938104,51.321243 L 105.52939,50.178633 L 111.3375,48.459687 L 115.5705,49.020458 L 119.41824,47.780188 L 118.43482,38.306664 L 119.8402,34.458934 L 120,82.488631 L 119.56163,89.602787 L 119.94169,101.15975 L 119.98488,178.82749 L 0.00346,178.875 L 0.00346,152.38807 Z M 35.34965,158.76015 L 39.96055,154.86861 L 40.88222,150.89329 L 38.11593,147.46055 L 35.44338,147.92941 L 34.47507,151.64353 L 35.72929,153.95291 L 35.21836,158.32493 Z M 55.60462,153.83733 L 51.7599,148.96639 L 50.63481,146.47618 L 54.25711,147.7973 L 57.80339,149.67068 L 57.38877,147.47618 L 54.73521,142.9597 L 60.29498,145.18766 L 60.62754,142.3033 L 53.87229,138.30496 L 47.82405,134.70772 L 41.96022,132.78168 L 32.40716,137.18627 L 34.39474,138.97254 L 37.78813,140.35434 L 40.45896,143.47892 L 42.94796,144.77672 L 44.98089,146.83547 L 45.85504,146.37684 L 49.60561,146.85123 L 49.09468,149.56137 L 53.29657,152.94642 Z M 62.96366,97.102366 L 69.0512,93.382032 L 71.01977,90.689389 L 71.36961,85.846736 L 72.02868,79.364142 L 71.54496,75.902231 L 70.0424,73.845556 L 66.3009,71.662164 L 63.92548,72.181206 L 60.89834,72.690016 L 57.17066,70.190931 L 55.79076,72.300814 L 53.80707,73.595939 L 49.26009,76.274809 L 45.92415,81.434339 L 42.14378,86.824803 L 42.61195,92.790165 Z M 21.87284,93.44768 L 21.51436,93.499982 Z M 116.03608,91.711985 L 119.1496,89.141913 L 119.88166,86.243214 L 116.98927,84.438329 L 113.96385,83.241508 L 108.7971,82.936548 L 112.38398,82.040022 L 112.83488,79.545632 L 109.89886,79.705346 L 106.68946,80.400704 L 103.86444,78.580366 L 104.52654,75.877851 L 104.35378,73.407378 L 103.33278,71.595458 L 102.44524,72.910122 L 99.891884,75.757296 L 96.339994,78.46962 L 98.831584,80.538064 L 110.6184,81.28483 L 107.2967,81.940903 L 102.81753,83.564651 L 98.756004,83.596179 L 106.27571,86.403749 L 110.36445,86.540314 L 114.32319,86.863889 L 118.33634,87.693859 L 113.43219,88.663936 L 114.67518,90.237499 Z M 103.91454,80.144332 L 100.75524,76.755831 L 102.03408,78.030488 L 103.03348,79.189954 Z M 77.27792,90.76428 L 81.932444,88.979478 L 81.419784,88.289139 Z M 26.18357,90.62724 Z M 17.9344,86.085616 L 17.5932,85.476084 Z M 15.9831,85.179848 Z M 103.11899,70.962056 L 106.88511,69.876922 Z M 32.22663,65.456073 L 32.04955,65.582661 Z M 36.35294,64.658978 L 33.9555,64.288845 Z M 53.18515,62.760087 L 55.5882,61.363671 L 54.71319,59.046586 L 52.24923,56.275243 L 53.68312,54.771164 L 52.22807,51.692719 L 54.63976,49.655355 L 55.97173,54.767497 L 57.00913,56.598175 L 60.74243,57.344716 L 62.42249,54.343991 L 64.19412,50.030446 L 66.46027,45.805444 L 67.37632,42.045721 L 60.85904,43.636127 L 56.68478,43.161596 L 55.48325,46.263912 L 54.29986,39.954214 L 59.32797,38.16039 L 64.95469,37.039988 L 65.51701,35.174349 L 62.32964,30.600406 L 60.6405,27.173989 L 53.01196,23.844423 L 45.52421,28.342163 L 45.03142,33.858532 L 44.32441,38.816942 L 51.01272,41.915772 L 44.36069,42.368345 L 44.3175,48.466169 L 47.50747,53.311449 L 46.79225,54.812855 L 48.90205,58.441861 L 52.09029,62.464106 Z M 55.0397,49.13684 L 56.43126,49.176142 Z M 7.85917,44.547488 L 7.47479,44.875338 L 7.69937,44.930319 Z M 13.00735,44.638445 Z M 58.25558,40.549644 L 57.57103,40.742485 Z M 2.44366,37.890862 Z M 119.82033,21.546536 L 119.32322,12.937573 L 116.22136,8.2869999 L 117.31189,7.4265459 L 118.70821,4.286915 L 115.9104,3.276862 L 112.86166,3.424958 L 109.14651,3.782134 L 106.57458,6.5972489 L 104.64315,4.55024 L 106.5288,4.328333 L 102.69876,4.737769 L 100.85112,6.4022319 L 98.671354,7.8066039 L 94.925974,8.4417899 L 96.001814,6.4022359 L 94.002154,6.9072409 L 92.295734,6.4585549 L 90.850624,8.1037209 L 88.775804,7.2402359 L 86.883674,9.0491459 L 85.137524,9.9632919 L 84.413244,7.4571799 L 82.703804,7.2075889 L 80.456224,8.1517129 L 79.474104,7.3118439 L 77.26669,7.6624119 L 74.9133,6.3592889 L 70.92908,6.2166769 L 69.06545,8.4336619 L 69.3721,9.0613509 L 71.31605,9.8691999 L 67.85054,10.882397 L 68.33944,7.8958549 L 65.22592,8.2482369 L 62.98914,8.3196289 L 60.55758,7.5772419 L 55.52385,9.3795179 L 54.11631,8.9451539 L 50.48797,8.1302959 L 49.09166,10.555937 L 48.8973,11.957614 L 47.43621,11.460699 L 45.73109,8.9569529 L 41.17245,10.388164 L 38.72534,8.9000559 L 38.72534,11.184066 L 36.43198,9.8916059 L 35.52975,10.116753 L 33.23553,10.586139 L 29.25347,9.8243909 L 27.92324,8.2073839 L 25.68344,8.4336099 L 23.5231,8.0432649 L 23.57493,5.650274 L 24.69872,5.7224 L 27.37776,6.1254439 L 27.52892,3.046856 L 22.45848,2.708856 L 20.57284,3.096783 L 22.12031,4.730604 L 23.92822,4.380899 L 21.96828,5.488003 L 21.55799,6.5820159 L 21.83872,7.6979439 L 21.48888,9.6995219 L 19.91463,7.8977719 L 16.84386,9.6214049 L 15.57496,7.6213299 L 12.43034,6.7388369 L 11.44994,5.652105 L 14.87313,5.601963 L 15.18841,3.627305 L 14.17476,2.151406 L 10.45961,3.034906 L 10.73602,3.89387 L 9.5306,6.1374069 L 8.59728,7.3268689 L 7.66741,5.839647 L 6.55313,5.141913 L 4.44332,2.787889 L 1.29914,2.886101 L 4.26754,-0.017258 L 47.29757,-0.044467 L 47.49624,-0.04372 L 119.97538,-0.042381 L 119.88468,22.742278 L 119.80694,21.546679 L 119.80694,21.546713 Z M 42.26428,9.3782359 L 42.07424,9.6140069 Z M 14.52675,8.6002869 L 14.29785,6.7334379 Z M 44.54036,8.2838169 Z M 47.97823,7.0128999 L 47.79252,7.7479829 Z M 18.06655,7.3555899 L 18.10974,5.54988 Z M 65.00608,7.6446699 L 66.25339,5.224487 L 62.14738,4.135108 L 60.6906,4.142019 L 58.93236,4.831244 L 59.70804,5.839254 L 62.69675,6.3316039 L 65.00608,7.6444189 Z M 86.604234,7.2694489 L 86.193934,6.6949559 Z M 28.83929,6.4723149 L 28.91703,5.600602 Z M 67.7918,6.7459629 L 69.35439,5.878012 L 67.3314,6.7980319 L 67.57326,6.8898959 L 67.79353,6.7459889 Z M 31.75284,6.4560759 L 31.20347,5.816743 Z M 44.27906,5.435139 L 42.86936,3.901095 L 44.20132,4.957132 Z M 100.08192,5.206106 L 99.304944,4.5367 Z M 91.009984,5.148772 Z M 6.28319,4.773672 Z M 41.95288,4.599023 Z M 0.65605,11.611443 L 1.11429,10.194606 Z M 32.256,11.332957 Z M 64.92661,10.951068 L 67.15173,9.9349209 Z M 50.61279,10.738537 L 50.84169,10.073641 Z M 82.376864,10.518626 Z M 96.515344,9.5206049 L 97.570024,9.2745549 Z M 111.84714,6.9618969 L 113.57428,6.0605 Z M 109.24714,5.275585 Z M 13.61027,5.059379 Z'
    },
    {
        color: '#656b48',
        d: 'M 0.02893,152.39472 L 0.02893,36.635671 L 0.40026,32.762773 L 1.17358,34.35423 L 3.35623,36.63429 L 6.41064,36.771337 L 8.54407,37.81508 L 8.46635,40.548336 L 9.63345,39.850104 L 11.05358,37.464862 L 11.98234,38.422379 L 11.80531,36.471854 L 11.42103,39.448462 L 11.52897,43.310652 L 12.59115,42.842343 L 15.53373,39.523549 L 17.32433,38.852648 L 20.83427,38.150357 L 24.63437,37.970736 L 24.8848,42.761945 L 27.08214,40.468198 L 28.66116,41.109133 L 30.96686,44.486218 L 34.99797,43.364193 L 37.62147,43.375419 L 38.98546,37.595692 L 40.81578,31.886431 L 42.41077,28.541687 L 47.52867,21.752258 L 59.46654,16.408621 L 69.0607,17.657779 L 78.50503,27.557875 L 82.76627,32.569163 L 85.15402,34.68696 L 88.54393,34.48018 L 87.57415,37.399707 L 88.79782,40.314398 L 88.92735,39.072554 L 90.77969,36.911968 L 92.07632,38.459426 L 95.1152,37.633084 L 97.8488,43.79226 L 100.3868,47.477852 L 89.11215,47.615244 L 87.00722,48.31162 L 88.36431,48.991027 L 91.9265,49.086839 L 99.94293,51.354377 L 105.53319,50.212059 L 111.33978,48.493572 L 115.57123,49.054196 L 119.41839,47.814252 L 118.43523,38.343234 L 119.84024,34.496501 L 120,82.5136 L 118.57297,86.813442 L 115.96285,83.293266 L 109.29487,83.307083 L 112.62001,81.086436 L 112.49479,79.244417 L 109.05566,79.929134 L 105.02413,78.815659 L 104.54485,76.02178 L 105.45159,70.920251 L 107.1718,69.670289 L 101.60874,72.406223 L 94.9386,76.468803 L 96.63938,80.380777 L 101.12515,81.517007 L 98.6735,83.073749 L 100.93387,84.46637 L 107.54616,85.825227 L 111.5928,86.597164 L 113.98314,86.676482 L 113.04315,88.682491 L 117.27115,91.551197 L 119.481,88.951101 L 119.99352,97.485631 L 119.95035,178.60514 L 107.88769,178.83182 L 0,178.875 L 0,152.39503 Z M 34.14822,161.29083 L 40.86716,155.0209 L 42.34773,152.83812 L 38.61413,145.67371 L 41.39307,146.84064 L 45.83609,149.94031 L 49.65346,150.88056 L 56.48207,154.39715 L 52.91168,147.87381 L 59.07966,151.51277 L 62.75972,152.34015 L 54.97084,143.83575 L 63.92596,145.42125 L 57.67594,138.70292 L 45.14869,133.03131 L 31.99364,139.75772 L 35.4699,141.27478 L 38.37751,142.82936 L 35.73027,145.44656 L 30.8166,149.34666 L 33.88959,149.93634 L 33.38484,153.37461 L 33.88052,158.34017 Z M 71.79214,145.49314 L 70.9044,143.28696 L 73.89578,143.13972 L 69.67124,144.36564 L 65.3815,144.10355 Z M 82.51714,144.89698 L 81.02059,144.42414 Z M 83.67085,141.33117 Z M 26.4798,139.17408 L 26.41503,138.53185 Z M 30.86712,138.65694 L 31.1521,134.21612 Z M 21.01692,137.43975 L 26.36365,130.87729 L 23.92021,133.4086 Z M 17.42752,136.52554 L 23.83515,129.79671 L 18.30058,132.81827 L 17.08599,137.01772 L 17.42709,136.52554 Z M 25.39431,136.28154 L 27.95649,132.37716 Z M 17.39298,133.20636 Z M 19.21812,129.38419 L 19.03245,128.51679 Z M 14.54582,112.68452 L 18.98021,109.03222 L 16.62959,105.86917 L 12.41801,105.42003 L 9.21506,106.54788 L 5.89424,108.43252 L 3.56176,111.10425 L 6.69778,111.04034 L 11.81395,112.31332 Z M 6.98016,110.9773 Z M 52.26919,101.40434 Z M 49.5969,100.84398 L 53.8508,100.4748 L 55.59994,99.589395 L 57.71264,98.669962 L 59.38277,98.533519 L 64.0637,97.414215 L 65.24937,98.085763 L 71.24119,94.872409 L 65.73858,96.992451 L 70.39317,94.281647 L 77.18551,91.69688 L 84.40747,88.956369 L 89.52709,86.642371 L 85.87164,85.256528 L 77.33318,88.126055 L 79.07066,88.705807 L 73.49249,91.59472 L 74.59396,90.713931 L 74.66305,88.491946 L 71.95881,87.989828 L 72.75113,85.13183 L 73.62894,81.210616 L 73.32237,75.4267 L 72.18161,73.297073 L 69.97478,70.032683 L 66.64532,68.86748 L 63.89401,69.73877 L 58.35427,68.717825 L 54.87325,71.963346 L 45.11502,80.837644 L 40.73072,85.933128 L 40.85162,92.878706 L 41.63659,94.303582 L 45.52996,94.365801 L 49.15173,96.759117 L 49.65821,99.536632 Z M 57.33613,101.45417 L 57.65133,101.48439 Z M 14.22803,101.38422 L 18.32217,100.76936 L 19.30663,98.343622 L 18.30447,97.160069 L 19.22891,94.914594 L 23.47936,93.420893 L 27.57177,88.506065 L 24.97893,87.36474 L 24.2829,85.027253 L 23.07651,82.935061 L 21.86234,81.56269 L 20.97331,78.082409 L 17.7587,81.562128 L 14.17406,81.694858 L 14.00566,85.222893 L 20.22201,90.076926 L 21.60457,92.08898 L 16.35455,92.573653 L 13.23407,92.837773 L 8.75953,94.21865 L 7.72973,95.286746 L 9.52594,98.47497 L 11.0579,99.374843 L 13.58381,101.13888 Z M 14.47889,98.070132 L 12.35756,95.486833 L 15.9517,93.767699 L 16.05533,95.068265 L 14.4776,98.070132 Z M 46.00362,96.10225 Z M 119.75907,93.234968 L 119.43091,92.732635 Z M 15.58857,76.675669 Z M 32.27732,65.485646 L 32.10029,65.6122 Z M 36.40212,64.688838 L 34.00574,64.318802 Z M 54.55633,63.355845 L 60.8193,60.25605 L 64.00023,56.539543 L 64.55895,53.374721 L 65.74635,49.736064 L 68.21613,45.37344 L 61.58701,42.096744 L 62.08572,40.031711 L 67.62114,36.65821 L 65.70533,33.152887 L 63.84436,29.405032 L 57.54598,24.345515 L 53.27783,21.445448 L 48.55242,24.7991 L 43.50663,35.027893 L 49.14137,39.048806 L 46.57487,40.878433 L 46.0373,41.709006 L 45.20224,54.407626 L 52.85425,63.373807 L 54.5559,63.355672 Z M 55.44752,56.322055 L 56.04165,56.34753 Z M 53.79294,54.001796 L 55.58051,53.41587 Z M 54.55935,43.159097 L 56.44191,41.205204 Z M 7.91065,44.582548 L 7.52637,44.910312 L 7.75089,44.965278 Z M 13.05747,44.673481 Z M 2.49742,37.927861 Z M 54.75279,22.903325 Z M 107.22405,81.499261 Z M 102.18733,79.012421 L 102.97576,76.917077 Z M 119.83938,21.588048 L 119.34197,12.981346 L 116.24135,8.331994 L 117.3316,7.471767 L 118.72754,4.33296 L 115.93004,3.323172 L 112.88253,3.47123 L 109.16835,3.828312 L 106.59667,6.642688 L 104.66575,4.596217 L 106.55133,4.374368 L 102.72187,4.783696 L 100.87558,6.447722 L 98.69595,7.851725 L 94.95155,8.486744 L 96.02668,6.447726 L 94.02797,6.952598 L 92.32201,6.50403 L 90.87684,8.148764 L 88.803,7.285505 L 86.91137,9.09394 L 85.16525,10.007847 L 84.44115,7.502393 L 82.73216,7.252867 L 80.48561,8.196743 L 79.50374,7.357094 L 77.29691,7.707571 L 74.94414,6.40479 L 70.96053,6.262216 L 69.0974,8.478618 L 69.40396,9.106142 L 71.34698,9.913779 L 67.8828,10.92671 L 68.37158,7.940952 L 65.25844,8.293242 L 63.02268,8.364615 L 60.59176,7.622424 L 55.55935,9.424226 L 54.15218,8.989976 L 50.52479,8.175331 L 49.12885,10.60034 L 48.93886,12.001645 L 47.47815,11.50486 L 45.77348,9.001772 L 41.21604,10.432606 L 38.76957,8.944889 L 38.76957,11.2283 L 36.47682,9.93618 L 35.57483,10.161267 L 33.28121,10.63053 L 29.30019,9.868982 L 27.97031,8.2524 L 25.73153,8.478567 L 23.57133,8.088323 L 23.62314,5.695962 L 24.74663,5.768069 L 27.42497,6.171006 L 27.57609,3.093232 L 22.50699,2.755321 L 20.62184,3.143146 L 22.16891,4.776537 L 23.97634,4.426924 L 22.01692,5.533737 L 21.60673,6.627463 L 21.88307,7.743098 L 21.53332,9.74415 L 19.95992,7.942874 L 16.88953,9.666054 L 15.62095,7.666504 L 12.47716,6.784243 L 11.49702,5.697797 L 14.91888,5.647667 L 15.23408,3.673528 L 14.22069,2.198017 L 10.50651,3.081285 L 10.78285,3.940023 L 9.57775,6.182971 L 8.64468,7.37212 L 7.71505,5.885289 L 6.60106,5.187739 L 4.49181,2.834332 L 1.34845,2.932519 L 4.31608,0.029922 L 47.3348,0.00272 L 47.53342,0.003467 L 119.99352,0.004805 L 119.90285,22.783463 L 119.82513,21.588195 L 119.82513,21.588229 Z M 42.30326,9.422944 L 42.11328,9.658653 Z M 14.57345,8.645199 L 14.34461,6.778841 Z M 44.57874,8.328769 Z M 48.01615,7.058186 L 47.83048,7.793076 Z M 18.1119,7.400786 L 18.15507,5.595551 Z M 65.03953,7.68979 L 66.28694,5.270243 L 62.18114,4.18115 L 60.72474,4.188059 L 58.9674,4.877107 L 59.74244,5.884848 L 62.7308,6.377069 L 65.03953,7.689539 Z M 86.63157,7.314624 L 86.22138,6.740283 Z M 28.8818,6.517661 L 28.95952,5.646173 Z M 67.82408,6.791237 L 69.38583,5.923514 L 67.3638,6.843289 L 67.6056,6.935128 L 67.82581,6.791259 Z M 31.79416,6.501426 L 31.24493,5.862257 Z M 44.31752,5.480758 L 42.90775,3.947112 L 44.23936,5.002876 Z M 100.10528,5.251785 L 99.32851,4.582555 Z M 91.03573,5.19447 Z M 6.3312,4.819469 Z M 41.99152,4.644865 Z M 78.49985,4.28682 Z M 97.33973,3.785013 L 96.91227,3.895592 Z M 0.70553,11.655823 L 1.16322,10.239359 Z M 32.29675,11.377411 Z M 64.95921,10.995622 L 67.18332,9.979746 Z M 50.64915,10.783147 L 50.87799,10.118426 Z M 92.69075,10.886136 L 92.8721,10.966922 Z M 82.40444,10.563293 Z M 96.53921,9.565492 L 97.59405,9.319506 Z M 111.86698,7.007326 L 113.59367,6.106166 Z M 109.26766,5.321409 L 109.2681,5.321414 Z M 13.65592,5.105303 Z'
    },
    {
        color: '#625131',
        d: 'M 0.15114,178.59823 L 0,103.35974 L 0,37.14091 L 3.93492,41.797081 L 3.12825,45.355253 L 3.96861,45.893027 L 5.86481,46.496514 L 1.46782,47.322779 L 2.53706,49.743779 L 6.91936,47.807855 L 7.9696,47.272059 L 12.61058,49.257256 L 12.65376,50.373842 L 13.97044,47.704015 L 15.04874,49.860514 L 20.0421,51.970136 L 23.07319,51.965386 L 21.59241,48.270908 L 22.50661,45.36706 L 26.52186,46.752621 L 28.13348,45.822909 L 31.18572,45.789658 L 33.43345,46.510087 L 35.08437,45.429279 L 38.3901,40.625138 L 39.10868,36.622983 L 43.1304,27.468883 L 50.85774,18.887424 L 78.9502,28.717508 L 82.99092,37.493912 L 83.86928,39.875054 L 87.11153,39.265607 L 88.03956,41.984672 L 86.72676,44.063824 L 87.362,46.763555 L 82.53188,47.315412 L 88.31982,49.485543 L 93.23243,49.755486 L 98.54103,50.904806 L 101.82474,52.388585 L 103.56807,54.601477 L 100.86951,56.255181 L 103.13364,58.045877 L 110.70811,55.017412 L 112.44669,53.629324 L 109.97787,51.917655 L 109.7965,49.813832 L 112.2243,50.72469 L 116.10308,51.535969 L 117.6089,53.04844 L 118.27566,50.466035 L 119.82079,52.047285 L 119.07845,53.74713 L 118.72866,57.26746 L 119.59839,57.455224 L 119.82726,57.168396 L 120,71.570784 L 117.53204,83.966099 L 118.36894,81.497155 L 116.81734,81.107809 L 118.0822,77.206497 L 115.28086,81.556197 L 115.34563,78.223147 L 117.85721,76.358978 L 117.62402,73.454425 L 116.83462,74.495366 L 113.32635,77.99685 L 112.76798,75.551071 L 112.87162,71.483755 L 115.14742,70.453633 L 118.41774,66.736656 L 117.66591,65.290546 L 115.88111,64.674808 L 115.00189,63.945992 L 109.82586,64.088802 L 109.86904,65.771348 L 113.85104,65.511337 L 115.80857,67.109269 L 114.60114,68.943162 L 110.16226,68.748661 L 103.44759,68.237704 L 100.32928,67.463019 L 99.77048,68.402473 L 91.72358,68.424928 L 90.28426,70.350505 L 93.50535,69.981455 L 95.47756,71.5698 L 101.69044,73.847123 L 100.50288,74.920555 L 93.99419,76.042577 L 92.94266,76.488387 L 96.35679,79.598526 L 99.22204,81.369176 L 99.4941,82.468842 L 104.42096,85.586089 L 108.22115,85.445352 L 112.30851,87.34086 L 111.7523,89.854563 L 119.38592,92.940165 L 119.9892,103.57881 L 119.9892,178.82836 L 0.14078,178.875 L 0.18396,178.59776 L 0.18396,178.59776 Z M 34.12741,161.2898 L 40.84727,155.01902 L 42.32805,152.83594 L 38.5935,145.67056 L 41.37282,146.83765 L 45.81688,149.93769 L 49.63477,150.87811 L 56.46388,154.39518 L 52.89343,147.87095 L 59.06226,151.51041 L 62.7424,152.3379 L 54.95288,143.83234 L 63.9088,145.41806 L 57.65835,138.69881 L 45.12939,133.02642 L 31.97254,139.75375 L 35.44884,141.27102 L 38.35728,142.82581 L 35.70967,145.44337 L 30.79491,149.34396 L 33.86831,149.93372 L 33.36392,153.3725 L 33.85924,158.3387 Z M 71.77907,145.49031 L 70.89164,143.28382 L 73.88342,143.13613 L 69.65788,144.36225 L 65.36755,144.10013 Z M 82.50596,144.89407 L 81.00921,144.42116 Z M 84.89145,142.35416 Z M 26.46054,139.17038 L 26.39576,138.52806 Z M 30.84802,138.65312 L 31.13304,134.21174 Z M 20.99647,137.43602 L 26.34394,130.87262 L 23.90016,133.40428 Z M 17.40702,136.52169 L 23.81552,129.79195 L 18.2802,132.81392 L 17.065,137.01394 L 17.40616,136.52169 Z M 25.37489,136.27766 L 27.93699,132.37279 Z M 17.37204,133.20205 Z M 19.19786,129.37937 L 19.01217,128.51189 Z M 14.52492,112.67754 L 18.95948,109.0247 L 16.60898,105.86117 L 12.39639,105.41197 L 9.193,106.53998 L 5.87215,108.42492 L 3.53936,111.09697 L 6.67581,111.03305 L 11.79267,112.30625 Z M 6.95823,110.97005 Z M 52.25172,101.39785 Z M 49.57863,100.83741 L 53.83355,100.46819 L 55.58293,99.582655 L 57.69592,98.663053 L 59.36584,98.526592 L 61.26551,99.772017 L 63.38584,98.77097 L 64.27025,99.556572 L 70.70595,95.056079 L 66.38064,97.048492 L 70.89898,94.253579 L 77.81791,91.127518 L 85.09182,88.562149 L 87.6224,86.552403 L 79.99395,86.426997 L 78.65223,88.334479 L 77.70002,89.245479 L 72.47649,91.633505 L 75.32663,89.790154 L 72.69846,88.585119 L 72.64664,86.805098 L 73.52457,83.75787 L 72.66175,79.401965 L 72.70493,74.859259 L 71.38437,71.61912 L 69.23251,68.681938 L 65.8335,69.457681 L 61.10443,69.92814 L 56.38874,67.476518 L 51.68126,74.092636 L 44.18409,82.134736 L 40.4245,86.242532 L 41.13185,92.535259 L 42.30516,94.622421 L 46.60153,94.943883 L 49.46333,97.05471 L 49.03149,101.84519 L 49.27332,101.50793 L 49.57993,100.83741 Z M 57.31892,101.44812 L 57.63417,101.47834 Z M 14.20536,101.37859 L 18.30006,100.76361 L 19.28423,98.337576 L 18.28236,97.15386 L 19.20649,94.908118 L 23.45752,93.414199 L 27.5505,88.498691 L 24.95773,87.357192 L 24.26161,85.01942 L 23.05462,82.926937 L 21.84028,81.554357 L 20.95156,78.073609 L 17.90882,81.594712 L 13.98685,81.782433 L 13.70615,85.232304 L 20.19929,90.069775 L 21.58204,92.082099 L 16.33131,92.566857 L 13.2104,92.83097 L 8.73525,94.212053 L 7.70531,95.28026 L 9.5022,98.468941 L 11.03393,99.368895 L 13.56019,101.13322 Z M 14.45583,98.064005 L 12.3342,95.480387 L 15.92926,93.761053 L 16.03291,95.061775 L 14.45496,98.064005 Z M 45.96802,96.090879 Z M 7.08519,77.790517 L 6.31608,76.720686 Z M 15.56522,76.660954 L 18.00728,72.49657 L 20.90967,71.337276 L 27.2426,72.591243 L 32.87162,72.660294 L 36.75516,70.809598 L 37.41155,70.017129 L 37.69225,66.969046 L 35.97957,60.40664 L 32.39401,60.290907 L 29.69847,60.944293 L 35.20658,61.484896 L 29.72179,63.221668 L 31.11188,65.108003 L 22.59039,65.797897 L 21.04138,67.181654 L 23.95975,66.449642 L 18.17828,68.456785 L 16.40688,70.581941 L 13.21429,72.125391 L 10.61202,71.85601 L 11.36386,73.223201 L 13.82923,74.517644 L 15.59373,74.831937 L 15.47713,76.24606 Z M 19.22593,73.767008 L 18.91068,73.800691 Z M 93.29073,67.347346 L 93.6362,65.774872 L 93.69665,66.634608 Z M 92.16837,64.701863 L 94.09049,62.141352 L 93.58135,60.745215 L 90.32831,59.877015 L 89.44951,61.766308 L 91.33751,63.750127 L 91.60526,64.157222 Z M 103.54648,63.860795 L 101.7211,63.141933 Z M 54.53874,63.339478 L 60.80257,60.23925 L 63.98394,56.522256 L 64.54274,53.357011 L 65.73029,49.717851 L 68.20042,45.354605 L 61.57038,42.0775 L 62.06959,40.012185 L 67.60577,36.638205 L 65.68927,33.132402 L 63.82804,29.384039 L 57.5288,24.323809 L 53.26006,21.423363 L 48.53401,24.777456 L 43.48754,35.007683 L 49.12261,39.029111 L 46.55619,40.859009 L 46.01855,41.689678 L 45.18337,54.390036 L 52.83643,63.357473 L 54.53874,63.339335 Z M 55.43006,56.304743 L 56.02427,56.330221 Z M 53.77525,53.984158 L 55.5635,53.398156 Z M 54.54176,43.139964 L 56.42415,41.185804 Z M 87.48076,63.264886 Z M 117.33555,62.24701 L 117.50397,60.534084 L 117.40896,58.281722 L 115.85261,58.642178 L 117.01426,61.655559 Z M 102.84474,61.900286 L 101.576,61.811889 Z M 87.5261,61.654829 L 86.65033,60.447984 Z M 107.10052,61.742147 L 106.7205,61.388902 Z M 108.29283,61.58573 L 108.58216,60.811476 Z M 26.98263,61.015572 L 26.16257,60.915256 Z M 111.9937,60.896385 L 110.45419,59.644832 L 111.14383,61.109329 Z M 99.9959,56.702225 L 99.3395,56.652737 L 99.9959,56.702182 Z M 117.55708,55.839509 L 117.31957,55.944619 Z M 13.60554,54.428474 L 12.95173,54.371125 Z M 101.04743,53.021717 Z M 9.57172,52.730355 L 9.39899,52.369122 Z M 36.93696,45.922673 L 36.70809,45.782843 L 36.75127,45.923493 L 36.94128,45.922742 Z M 54.73264,22.885105 Z M 107.78499,72.772451 L 110.82471,71.486549 Z M 20.01663,49.767604 L 17.63071,46.036644 L 19.45135,43.176109 L 19.21384,45.966056 Z M 94.06026,47.267261 L 96.30669,46.474568 Z M 94.41696,42.035975 Z M 119.92443,5.25542 Z M 119.39931,1.48164 L 108.99716,0.31702 L 117.64345,0.412802 Z'
    },
    {
        color: '#4e3226',
        d: 'M 0.084727,178.71532 L 0.015562,156.97972 L 0.201442,146.89658 L 0.050144,141.88365 L 0.555047,137.66875 L 0.37349,132.46522 L 2.128546,127.27415 L 1.782722,124.61429 L 0.765568,121.18929 L 1.51687,116.27384 L 2.046845,112.57503 L 8.184786,112.91394 L 9.123698,114.70276 L 10.964345,114.5225 L 15.693487,112.95548 L 19.259797,109.01335 L 19.303027,106.67178 L 20.940927,102.75256 L 22.465587,96.299223 L 30.253967,85.889493 L 29.951367,81.59047 L 26.757257,84.170489 L 26.167627,81.060149 L 24.881597,79.265453 L 26.022817,75.233968 L 28.029457,72.53075 L 31.891877,72.117577 L 33.884257,78.46807 L 35.223027,72.317376 L 39.021467,68.35899 L 36.076347,55.051126 L 31.236537,55.433651 L 34.080937,54.295242 L 34.214947,52.869324 L 32.648797,51.625741 L 34.460917,50.210846 L 36.495657,46.993214 L 38.317287,43.474111 L 39.785737,38.89363 L 42.511257,29.006786 L 44.105507,28.988198 L 43.453197,48.135038 L 49.449357,60.927625 L 56.955027,63.928727 L 62.116447,61.198967 L 66.231317,57.304342 L 67.375567,53.442397 L 68.873847,45.326732 L 68.692287,35.48156 L 63.333317,26.096635 L 57.611657,21.124855 L 53.587567,18.865415 L 51.089857,18.782288 L 61.490077,16.689924 L 81.132857,35.99848 L 83.009387,48.93307 L 84.597147,49.845656 L 84.921357,50.832853 L 88.214897,52.339392 L 83.947427,53.651577 L 84.794267,56.318441 L 84.837497,61.615166 L 86.489667,66.265718 L 86.247587,67.827891 L 87.687087,70.133585 L 91.582357,71.750009 L 92.656137,71.985429 L 94.609617,73.204155 L 90.445457,75.386866 L 92.357007,77.223147 L 95.317257,80.433041 L 95.390747,82.824845 L 100.1134,84.944702 L 104.70076,86.446399 L 108.65439,87.601753 L 116.73802,92.875999 L 119.13674,98.254641 L 119.94726,100.93383 L 119.13588,103.13945 L 119.98055,105.51098 L 119.3304,109.73599 L 117.64278,109.42259 L 113.77431,107.58756 L 112.60283,107.69433 L 111.15599,109.6507 L 113.47993,112.27123 L 117.01598,112.20033 L 120,114.54973 L 119.95678,119.95297 L 119.95678,126.66329 L 119.87464,132.80577 L 119.94813,135.627 L 119.94813,146.13892 L 119.9049,164.43949 L 119.9049,178.29445 L 104.76473,178.875 L 0.208791,178.86203 L 0.040202,178.71333 L 0.040202,178.71333 Z M 34.859907,164.17338 L 36.458047,161.06127 L 39.838047,157.8691 L 44.948457,155.33244 L 50.709017,156.11365 L 49.709157,151.96273 L 58.812967,156.8857 L 54.451697,150.45805 L 60.732287,154.55559 L 64.305077,153.31058 L 57.575777,146.795 L 62.664147,147.99959 L 68.935667,148.88248 L 71.210307,149.1453 L 71.167077,146.2457 L 75.606587,149.28726 L 79.332847,151.98313 L 77.730387,145.35356 L 84.796857,146.92567 L 80.812107,142.27508 L 83.471057,139.41862 L 77.585567,142.96469 L 68.863037,142.37321 L 62.791667,140.7423 L 45.991547,133.23066 L 32.465507,132.3881 L 30.773567,139.81203 L 37.233987,143.51265 L 27.643427,152.99882 L 30.163187,157.84299 L 33.164507,160.98385 Z M 76.906027,149.63667 L 73.266657,145.34617 Z M 75.183827,146.20956 L 75.665377,146.32844 L 75.457887,146.40452 L 75.185547,146.20913 Z M 62.100457,150.09251 Z M 25.895287,140.26161 L 31.984817,131.05417 L 25.863297,132.76514 L 26.031887,134.48073 L 28.452657,133.64033 Z M 19.995967,139.65983 L 28.399057,130.0062 L 26.538527,129.01079 L 25.596157,126.1475 L 14.433391,130.86259 L 16.865827,131.88718 L 15.536137,133.64751 L 16.483257,137.59526 L 19.217427,137.37696 Z M 19.736597,137.9365 L 26.107537,130.72067 Z M 17.944367,131.92068 L 22.431437,127.23991 L 23.574377,129.28935 Z M 15.317835,128.95256 Z M 24.998737,119.92976 Z M 9.701224,117.99976 L 8.779603,117.65004 Z M 55.556607,111.82896 Z M 56.709927,110.00548 L 57.008197,109.24415 Z M 85.801907,110.29294 L 87.007107,105.97347 L 88.107257,107.64298 L 89.198767,105.74726 L 89.462457,103.43137 L 89.133927,101.54961 L 86.988517,103.2524 L 85.081737,106.1977 L 84.626977,109.39129 Z M 49.731627,105.70434 L 51.522997,104.57738 L 52.255717,105.49667 L 55.135557,102.76652 L 57.086007,102.1816 L 60.119747,100.18148 L 61.875667,100.6161 L 58.387167,104.1997 L 60.395977,102.5576 L 66.761297,98.176269 L 72.348497,93.765242 L 92.381207,86.856416 L 92.247207,85.075553 L 83.761547,84.58431 L 88.509277,82.793894 L 80.894667,85.129804 L 75.783397,87.289907 L 75.415957,85.389216 L 74.257017,78.455058 L 74.378057,75.839419 L 71.334367,69.293666 L 67.596897,66.851241 L 62.062847,67.781378 L 53.925607,67.262123 L 48.031047,75.837993 L 43.862997,81.496406 L 40.844827,84.027145 L 39.000717,90.028745 L 38.413247,91.899739 L 36.621447,98.8843 L 39.671617,95.923269 L 40.000147,98.231471 L 40.657647,97.630645 L 42.627547,97.190368 L 42.268757,98.857109 L 45.224687,98.757685 L 45.985067,101.37739 L 47.256397,103.23234 L 48.562747,104.51578 Z M 74.477047,84.130762 L 74.727767,82.692395 Z M 113.6537,104.77061 L 112.31536,100.73964 L 109.54704,101.4472 L 109.30065,103.75583 Z M 62.203337,103.0555 L 62.160107,102.48627 Z M 81.228827,100.88714 L 81.349857,99.993227 Z M 116.44537,99.611438 L 116.99177,97.722461 L 116.87937,94.2816 L 113.23439,91.879076 L 111.94144,91.90069 L 114.81437,94.027161 L 114.61985,94.885149 L 114.52042,97.464866 L 116.44666,99.611611 L 116.44666,99.611654 Z M 69.021257,98.777094 L 68.343437,98.924502 Z M 111.39504,97.658484 L 112.29202,94.494196 L 107.01778,92.706157 L 107.01778,94.800163 L 106.1731,94.677958 L 111.61205,97.911584 L 111.40023,97.6587 L 111.40023,97.6587 Z M 78.358057,84.692294 L 78.832267,80.374121 L 77.770587,75.907244 L 77.584707,82.725205 Z M 80.560517,77.145553 Z M 1.116579,111.15642 L 0.060519,108.11961 L 0.060519,91.60086 L 0.060519,76.444006 L 0.103747,70.542565 L 0,57.672774 L 0.090779,44.618615 L 1.789638,41.992601 L 1.1624,46.555574 L 1.119172,53.847702 L 3.737924,54.125874 L 4.057811,50.76706 L 6.36143,49.886722 L 7.407979,53.594127 L 7.101061,55.740094 L 7.299909,60.915477 L 8.327006,59.509963 L 8.063315,60.471785 L 11.659019,63.842833 L 10.023272,65.079845 L 6.700337,62.735592 L 6.263735,66.129031 L 9.361019,67.307686 L 11.320112,67.234284 L 12.927328,68.42595 L 9.58494,70.197174 L 6.076125,69.919996 L 4.451618,69.364603 L 2.874229,72.421383 L 1.007644,74.999197 L 0.579687,86.697683 L 2.327827,88.312594 L 2.090073,91.193653 L 2.172206,93.053104 L 3.736627,96.575234 L 6.144425,100.67117 L 7.888674,100.61109 L 7.962162,102.77037 L 6.676994,105.74648 L 2.302322,111.00569 L 1.123495,111.15655 Z M 5.173957,62.584164 Z M 3.61213,58.386554 L 3.292243,54.521367 L 3.430573,58.619942 Z M 7.272676,93.205829 L 10.589991,90.10072 Z M 11.448066,90.016339 Z M 13.904713,89.034502 L 14.750684,85.698901 L 16.837297,87.794204 Z M 9.536957,87.577157 L 8.631331,86.293069 L 10.319816,83.343538 L 11.815937,83.869795 L 11.5436,86.633187 Z M 5.676266,86.910062 L 6.341545,83.414043 L 6.168633,86.796027 Z M 3.484608,83.717935 L 3.700748,81.497184 Z M 7.267921,82.428228 L 6.356675,80.315547 L 3.68043,76.785248 L 2.751461,75.861855 L 7.118784,77.855356 L 10.141717,77.336491 L 8.970239,81.016748 Z M 10.522988,82.103284 Z M 19.801437,77.921106 L 18.932987,75.233536 Z M 22.557227,77.102411 L 21.917017,73.287585 L 21.761397,72.653042 L 24.200317,72.53317 L 22.632007,77.335064 L 22.558527,77.102411 Z M 95.556307,74.840767 L 95.776767,74.894585 Z M 98.978237,74.319005 L 99.289477,71.938915 Z M 88.409427,64.416468 L 88.409427,65.008 Z M 22.003047,64.166351 L 23.468467,63.619344 Z M 20.002447,63.575511 L 20.309367,63.453652 L 20.439057,63.613941 L 20.005477,63.575468 Z M 119.47954,63.501289 L 119.98833,61.099067 Z M 18.992647,62.422102 L 17.648257,61.898352 L 18.711227,59.576534 L 20.098847,58.614193 L 20.219887,61.071487 Z M 11.520689,59.388449 L 11.520689,59.545669 L 11.520689,59.388406 Z M 13.70889,59.260235 Z M 86.663017,59.371374 L 87.553507,59.040593 Z M 28.787247,57.21179 L 27.777867,55.763869 Z M 84.506367,55.385884 Z M 89.249777,52.725936 L 90.371977,52.675922 Z M 60.265857,41.313792 L 60.533877,41.485926 Z M 64.043987,41.21225 L 64.560127,41.209915 Z'
    },
    {
        color: '#241724',
        d: 'M 0.85113,178.68754 L 0.08295,169.61187 L 0.29033,150.08146 L 2.29589,145.04136 L 1.84224,138.22136 L 3.27317,132.418 L 4.30489,128.66574 L 4.68077,127.8684 L 8.76144,123.05633 L 6.81637,125.94217 L 10.2265,122.73921 L 8.62059,121.58345 L 10.90049,118.71393 L 15.34623,115.23684 L 17.716,115.29257 L 19.16896,112.19491 L 21.63464,108.14665 L 21.91115,106.47044 L 22.51299,103.6046 L 23.16883,100.7169 L 22.64476,98.788902 L 26.60704,92.316206 L 33.71504,83.781685 L 35.58277,77.735084 L 36.05154,74.732607 L 37.34725,74.809338 L 39.74553,67.476605 L 41.07968,64.504077 L 43.42352,62.432184 L 43.86162,60.553848 L 40.58974,62.336046 L 39.8328,59.009383 L 42.03623,54.06794 L 39.19769,56.479977 L 37.81342,54.4523 L 39.28281,53.962405 L 41.11424,50.736949 L 41.96062,47.202412 L 41.32465,44.978535 L 42.53135,43.068431 L 44.8618,55.89479 L 49.95258,62.208688 L 53.31605,68.208281 L 51.78618,70.249339 L 48.27106,72.945462 L 44.93093,75.834308 L 42.05394,80.262283 L 38.0653,88.095038 L 36.03556,92.464812 L 33.14475,99.266744 L 34.08358,106.24107 L 35.98544,106.1633 L 36.86811,103.85411 L 36.68233,107.569 L 37.46822,109.3346 L 38.03376,105.40208 L 40.97469,100.86911 L 40.24713,105.38722 L 39.62023,112.45456 L 40.88785,109.69782 L 41.71133,105.6871 L 42.38878,105.43786 L 44.4034,106.1932 L 44.85316,112.5093 L 46.58134,110.33863 L 45.94882,112.95034 L 47.24971,115.02025 L 49.12349,112.48312 L 51.17743,109.50638 L 52.53103,110.62386 L 51.01152,110.8023 L 49.42592,113.59534 L 49.19262,115.89346 L 50.95968,117.33891 L 52.24544,117.13541 L 50.56954,119.7781 L 49.52832,122.29934 L 48.26718,125.78167 L 51.37487,123.27235 L 53.42925,121.85235 L 56.56028,118.94724 L 58.71099,116.32421 L 61.95003,112.58081 L 60.91053,111.28554 L 60.11514,110.46249 L 62.46158,106.5162 L 63.16062,103.79336 L 66.68611,101.65025 L 72.45347,97.382121 L 76.61277,93.817493 L 73.17067,95.84688 L 77.94779,92.731034 L 82.98759,91.290152 L 89.43586,89.377809 L 93.1644,86.342025 L 91.07115,84.424006 L 90.12151,81.407331 L 88.12503,79.604672 L 83.77045,83.152537 L 79.965,84.38017 L 81.03432,79.28215 L 81.85002,73.407499 L 80.12184,72.699486 L 77.20337,72.602838 L 73.71245,69.378388 L 71.03853,64.726679 L 67.77832,62.99535 L 66.36121,62.447993 L 68.53224,60.044467 L 69.57606,48.666007 L 70.32263,39.807966 L 69.7385,32.100357 L 69.07748,30.553896 L 66.60748,26.183728 L 64.63217,21.391972 L 67.22271,20.929001 L 70.15629,20.634131 L 72.05599,20.542019 L 81.25595,38.304856 L 83.27663,51.511186 L 83.09085,58.609677 L 83.86032,61.161787 L 84.66133,63.949932 L 87.10238,71.528675 L 90.19107,72.242197 L 88.24428,74.810971 L 92.32235,80.202345 L 96.32092,84.201503 L 101.61952,88.002667 L 104.92509,93.958153 L 105.85097,96.911624 L 107.30134,99.862879 L 109.74326,105.55075 L 110.05865,107.78187 L 110.45613,109.50633 L 108.65796,110.52389 L 107.3035,111.95737 L 109.83615,111.61908 L 112.77232,115.30367 L 113.2601,116.61225 L 113.30763,120.72558 L 113.26442,124.05167 L 113.75652,123.46003 L 114.94076,127.18875 L 117.49198,130.73065 L 116.90051,132.65295 L 118.1098,137.07735 L 118.86631,139.81301 L 118.91384,142.48685 L 118.16899,143.34675 L 117.46563,146.21229 L 116.6253,151.59301 L 118.6598,158.75001 L 119.90063,156.72696 L 120,177.94956 L 112.7922,178.875 L 50.34574,178.80544 L 28.58279,178.80976 L 16.1615,178.78384 L 0.83341,178.69008 Z M 35.79966,165.9229 L 37.85058,161.04801 L 41.00926,160.82767 L 46.66861,160.55289 L 52.90388,160.74428 L 54.44326,162.08548 L 54.65064,162.70892 L 55.79685,160.60625 L 62.2179,159.66823 L 57.9506,158.62087 L 61.74611,156.55384 L 66.2761,154.79092 L 68.93274,155.3188 L 71.6071,151.89199 L 74.03303,155.8026 L 75.93359,150.85076 L 79.12209,153.96209 L 82.30755,152.48303 L 86.29403,154.51117 L 84.90198,151.11349 L 88.02912,149.54975 L 91.40728,147.66301 L 90.06189,145.07985 L 84.32002,142.02426 L 67.85393,142.63928 L 63.26043,140.58197 L 47.48345,133.5755 L 36.03037,130.88018 L 33.00822,130.50906 L 24.45762,129.92956 L 27.96021,127.16136 L 27.68802,126.12735 L 25.57835,124.41623 L 15.05374,126.52215 L 13.1199,128.68535 L 14.91548,127.51317 L 13.23569,132.63649 L 14.95998,132.66241 L 14.33913,136.58443 L 15.90443,138.30483 L 18.20939,138.92257 L 20.2724,142.48456 L 21.21167,138.54168 L 22.90701,139.49503 L 23.25697,136.1221 L 23.00206,142.19224 L 25.16445,140.68764 L 27.90793,141.82362 L 32.18517,145.05406 L 31.94323,146.48262 L 27.49878,156.82486 L 32.96156,164.29971 Z M 43.56696,158.20887 L 48.74372,156.2022 L 46.40722,157.89642 Z M 83.74237,149.93228 Z M 18.66477,136.78157 Z M 18.5641,127.28194 L 21.70463,126.40675 Z M 51.9698,165.19845 L 51.5464,163.29892 Z M 49.7776,164.57587 L 49.66095,164.02143 Z M 101.54434,144.49404 L 100.65563,135.88987 Z M 9.99276,128.34572 L 11.05862,127.77193 L 13.16786,124.0197 L 16.33432,121.76469 L 20.89973,123.1309 L 22.75709,121.86669 L 26.57853,122.0879 L 29.00057,123.0136 L 31.56778,122.92633 L 29.57778,121.30033 L 31.14611,120.07963 L 30.93008,117.78141 L 30.73134,116.50109 L 29.02045,114.82316 L 26.91164,112.05289 L 24.5894,111.35575 L 23.18957,114.50681 L 21.81005,117.20908 L 20.7658,119.20059 L 20.64051,116.62072 L 19.15298,119.3906 L 17.26494,120.76822 L 18.48979,118.30189 L 17.91646,116.33436 L 16.93011,118.04863 L 14.80617,121.11144 L 12.60577,122.52241 L 10.19237,124.80075 L 8.42098,127.02116 Z M 32.5805,126.57572 Z M 26.63254,123.9822 L 23.55724,122.91743 L 25.43966,124.01996 Z M 112.45693,121.61978 Z M 10.98215,121.2439 L 10.68403,121.30525 Z M 13.23699,119.23714 L 15.94504,117.70329 L 12.74834,119.43649 L 12.8866,119.50605 L 13.23656,119.23688 Z M 78.31935,118.18727 Z M 78.76478,115.89156 L 81.79644,112.53238 L 85.3971,112.20964 L 88.94678,109.92918 L 94.04232,103.80745 L 96.04873,103.67697 L 95.24168,102.47122 L 92.68915,100.69409 L 85.74274,101.79049 L 85.59152,98.800524 L 84.97932,96.309838 L 83.19627,101.23462 L 79.32299,108.9153 L 78.31157,111.97106 L 79.64443,112.54015 Z M 85.16682,102.46509 Z M 104.77431,113.38687 L 106.40312,112.56608 L 105.81467,110.19298 L 103.88775,107.6536 L 103.68037,112.0109 Z M 103.48509,112.38773 Z M 34.02007,110.75373 L 33.7522,110.65998 Z M 108.60828,109.68183 L 107.5839,107.28541 Z M 74.94724,107.66435 L 78.53148,102.6535 L 79.12036,103.47663 L 80.70034,102.72258 L 83.38637,98.830206 L 82.14856,96.522555 L 79.3286,97.784225 L 78.97865,100.04075 L 75.8662,105.12449 Z M 24.02126,107.00674 L 23.87004,106.82312 Z M 25.96848,101.60035 Z M 25.27159,100.59036 L 24.18241,100.26719 Z M 86.68071,100.04715 L 86.41716,98.178077 Z M 25.18735,98.083935 Z M 32.35626,96.078966 L 32.73214,93.544427 Z M 77.79225,94.716772 L 85.90044,91.800574 Z M 93.87728,86.966451 Z M 40.66016,71.687642 L 40.66016,71.861237 Z M 45.39754,71.063583 L 45.35433,67.507941 Z M 44.16405,68.246431 L 43.56048,66.925869 Z M 53.11818,66.389395 Z M 42.772,58.397984 Z M 118.46667,148.10205 Z M 114.46723,115.16287 L 114.61413,115.02851 Z M 4.00246,106.38494 L 3.66115,100.17309 L 2.78194,98.519349 L 1.51086,98.751789 L 2.2907,95.575768 L 6.00499,101.96193 L 6.49925,103.66293 L 4.04956,106.9504 L 4.00203,106.38481 L 4.00246,106.3849 Z M 0.11924,105.77494 Z M 44.05906,104.76577 L 44.10226,105.07079 Z M 43.66201,102.822 L 43.73546,100.83075 Z M 1.61369,101.80082 Z M 31.77473,81.130861 L 30.97675,77.519606 L 32.46816,77.540345 L 32.42496,78.898654 Z M 26.64377,77.61425 L 27.56618,76.620781 Z M 0.03111,70.951666 L 2.48771,69.986643 L 0.10283,72.14649 L 0.0337,70.951666 Z M 0.0687,69.174031 L 2.36804,67.856493 L 0.22121,69.138858 L 0.06999,69.173854 Z M 8.50307,66.913322 Z M 4.3e-4,66.346976 L 0.79755,62.529096 L 2.04616,64.071799 L 0,66.346976 Z M 119.9002,65.457357 Z M 2.52141,62.919959 L 2.56462,60.846485 Z M 37.07074,55.142401 Z M 42.1922,38.773262 L 42.86359,36.994992 Z'
    }
];

export default {
    before: ({svg, entity, camera, updateElement, bg, featureToModel}) => {
        camera.position = [0, 0, 35];

        updateElement(bg, {
            'fill': '#f2f2f2'
        });

        countriesLatLng = countries.features.map((feature) => featureToModel(feature));
        countriesXYZ = countriesLatLng.map(country => country.map(coord => {
            if (!coord) {
                return null;
            }
            return getXYZ([coord[0], coord[2]]);
        }));

        world = countriesXYZ.map(country => {
            const path = entity({svg, model: country, scale: [0.25, 0.25, 0.25]});
            return path;
        });

        structure = canvas.map(layer => {
            return {
                schema: parseDPath(layer.d).filter(arr => arr.length > 3),
                entity: entity({svg, model: [[0, 0, 0]], scale: [0.05, 0.05, 0.05]}),
                color: layer.color
            }
        });
    },
    loop: ({updateElement, camera, width, cameraMatix, height, getVertices, frame, getPositionFromModel}) => {

        const {viewMat, projectionMat} = cameraMatix(camera, width, height);

        world.forEach((path, idx) => {
            if (frame > 150 && frame < 480) {
                path.model = path.model.map((coord, jdx) => {
                    if (!coord) {
                        return null;
                    }
                    return [
                        lerp(coord[0], -countriesLatLng[idx][jdx][0], 0.03),
                        lerp(coord[1], countriesLatLng[idx][jdx][2], 0.03),
                        lerp(coord[2], countriesLatLng[idx][jdx][1], 0.03)
                    ];
                });
                path.rotation[1] = lerp(path.rotation[1], 0, 0.1);
                marker = getPositionFromModel(path, [...louvrePosition]);
            } else if (frame >= 480) {
                path.model = path.model.map((coord, jdx) => {
                    if (!coord) {
                        return null;
                    }
                    return [
                        lerp(coord[0], countriesXYZ[idx][jdx][0], 0.03),
                        lerp(coord[1], countriesXYZ[idx][jdx][1], 0.03),
                        lerp(coord[2], countriesXYZ[idx][jdx][2], 0.03)
                    ];
                });
                marker = getPositionFromModel(path, [...louvrePositionXYZ]);
                path.rotation[1] = path.rotation[1] - 1.0;
            } else {
                path.rotation[1] = path.rotation[1] - 1.0;
                marker = getPositionFromModel(path, [...louvrePosition]);
            }
            
            updateElement(path.path, {
                'd': getVertices(path, viewMat, projectionMat),
                'stroke': '#fff',
                'stroke-width': 1,
                'fill': '#aaaa99',
                'fill-opacity': 0.75
            });
        });

        structure.forEach((layer, idx) => {
            updateElement(layer.entity.path, {
                'd': layer.schema.reduce((str, model) => str + getVertices({...layer.entity, model}, viewMat, projectionMat), ''),
                'stroke': 'none',
                'stroke-width': 0.5,
                'fill': layer.color,
                'fill-opacity': 1.0
            });

            if (frame > 120 && frame < 300) {
                layer.entity.position[0] = lerp(layer.entity.position[0], 0, 0.05);
                camera.position[2] = lerp(camera.position[2], 30, 0.01);
                
            } else if (frame >= 300) {
                layer.entity.scale = [
                    lerp(layer.entity.scale[0], 0.012, 0.1),
                    lerp(layer.entity.scale[1], 0.012, 0.1),
                    lerp(layer.entity.scale[2], 0.012, 0.1)
                ];
                layer.entity.position = [
                    lerp(layer.entity.position[0], marker[0], 0.1),
                    lerp(layer.entity.position[1], marker[1], 0.1),
                    lerp(layer.entity.position[2], marker[2], 0.1)
                ];
                
                if (frame >= 360) {
                    camera.position = [
                        lerp(camera.position[0], 0, 0.002),
                        lerp(camera.position[1], 10, 0.002),
                        lerp(camera.position[2], 50, 0.002)
                    ];
                    camera.target = [
                        lerp(camera.target[0], 0, 0.01),
                        lerp(camera.target[1], 0, 0.01),
                        lerp(camera.target[2], 0, 0.01)
                    ];

                    if (frame >= 540) {
                        layer.entity.position = [...marker];
                    }

                } else {
                    camera.target = [
                        lerp(camera.target[0], marker[0], 0.01),
                        lerp(camera.target[1], marker[1], 0.01),
                        lerp(camera.target[2], marker[2], 0.01)
                    ];
                }
                
            } else {
                camera.position[2] = lerp(camera.position[2], 50, 0.02);
                layer.entity.rotation[1] = lerp(layer.entity.rotation[1], 0, 0.1);
                layer.entity.position[1] = lerp(layer.entity.position[1], 0, 0.02);
                layer.entity.position[0] = lerp(layer.entity.position[0], (translation[0] * 0.1 * structure.length / 2.0) - idx * translation[0] * 0.1 - translation[0] * 0.1 / 2.0, 0.02);
            }
        });
    }
};
